<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>11zHexo</title>
  <meta name="author" content="E. Sununs">
  
  
  <meta name="viewport" content="width=device-width; initial-scale=1; maximum-scale=1">

  
  <meta property="og:site_name" content="11zHexo"/>

  <link rel="alternate" href="/atom.xml" title="11zHexo" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-31707826-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</head>

<body>
  <header id="header" class="inner"><div class="alignleft">
  <!--<h1><a href="/">11zHexo</a></h1>-->

  <div id="contenedor">
  <ul class="cube">
    <li class="cara"></li>
    <li class="cara"></li>
    <li class="cara"></li>
    <li class="cara"></li>
    <li class="cara"></li>
	  <li class="cara">
      <iframe src="/imgs/logo.svg" width="100px" height="100px" frameborder="no">
      </iframe>
    </li>
  </ul>
</div>

<script type="text/javascript">
	$(function(){
		var cube = $('.cube'),
				offset = $('#contenedor').offset(),
				offsetleft = (offset.left + 50),
				offsettop = (offset.top + 50);

		cube.on({
			mousemove: function(e) {
				$(this).css('transform','rotateX(' + (e.pageY - offsettop)*0.618 + 'deg) rotateY(' + (e.pageX - offsetleft)*0.618 + 'deg)');
				$(this).addClass('noanimar').removeClass('animar');
			},
			mouseout: function() {
				$(this).css('transform','rotateX(0deg) rotateY(0deg)');
				$(this).addClass('animar').removeClass('noanimar');
			}
		});
		//console.log('x=' + offsetleft + ', y=' + offsettop);
});
</script>
<script src="/js/prefixfree.min.js"></script>

</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <a href="/"><li>Home</li></a>
    
      <a href="/archives"><li>Archives</li></a>
    
      <a href="/atom.xml"><li>RSS</li></a>
    
  </ul>
  <div class="clearfix"></div>
</nav>


<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">


  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2013-02-03T15:08:16.000Z">Feb 3 2013</time>
      
      
  
    <h1 class="title"><a href="/blog/ros-on-arm--native-compile-ros-on-rk3066/">ROS on ARM--RK3066上本地编译ROS Groovy</a></h1>
  

    </header>
    <div class="entry">
      
        <h3>1. 开源机器人操作系统ROS(Robot Operating System)简介</h3>
<p>ROS（Robot Operating System）是一个开源的为机器人软件开发设计的软件框架，在异构计算机集群中提供类似操作系统的功能。它并不是一个计算机的操作系统，而是机器人的操作系统，或者称为元级操作系统（Meta Operating System）。据目前唯一一本比较官方的关于ROS的书《ROS By Example Volume 1》介绍，“The primary goal of ROS (pronounced &quot;Ross&quot;) is to provide a unified and open source
programming framework for controlling robots in a variety of real world and simulated
environments.”，ROS的原始目的就是为了在一系列真实和模拟的环境中控制机器人提供一个统一的开源编程框架。为了实现这一目标，ROS架构中有<a href="http://www.ros.org/wiki/ROS/Concepts">三个层次</a>的概念：文件系统级（Filesystem Level），计算图级（Computation Graph Level）和社区级（Community Level）。
具体可以查阅<a href="http://zh.wikipedia.org/wiki/ROS">维基百科</a>和<a href="http://www.ros.org/wiki/">官网wiki</a>，这里就不过多介绍了。

</p>
<h3>2. ROS Groovy Galapagos</h3>
<p><a href="http://www.ros.org/news/2012/12/ros-groovy-galapagos-released.html">ROS Groovy Galapagos</a>是2012年12月31日发布的ROS最新版本，主要支持Ubuntu 11.10、Ubuntu 12.04和Ubuntu 12.10。提到这个版本的原因是它采用了新的构建系统——catkin，准备逐渐取代之前的rosbuild。它解决了rosbuild当中的几个问题，让ROS可以持续发展和扩大规模，相对于rosbuild更符合文件系统层次结构标准（Filesystem Hierarchy Standard，FHS），使在其它操作系统和架构上发布ROS包更加容易。正是这个原因让我在MK802 IIIS上编译ROS的时候轻松很多，如果编译之前的版本（比如fuerte）将会遇到更多问题。

</p>
<p>因为catkin的引入，ROS文件系统级的Stacks概念被移除了，原因是Package和Stack之间依赖性跟踪出现的问题，取代的是元包（metapackage）的概念。

</p>
<h3>3. Ubuntu on ARM</h3>
<p>ARM版Ubuntu的软件源是在<code>http://ports.ubuntu.com/</code>上，和桌面版的略有区别，我遇到的一个问题就是桌面版python-*的包ARM版几乎都没有，解决办法是使用python的包管理工具pip安装，比如桌面版上<code>apt-get install python-PACKAGENAME</code>，用<code>pip install PACKAGENAME</code>替代。据说easy_install的维护不够好，所以应该尽量用pip。

</p>
<p>我使用的是RK3066上的Picuntu，关于Picuntu请看前一篇文章。

</p>
<h3>4. 编译ROS for ARM</h3>

      
    </div>
    <footer>
      
        
          <div class="alignleft readmore">
            <a href="/blog/ros-on-arm--native-compile-ros-on-rk3066/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2013-01-28T15:11:32.000Z">Jan 28 2013</time>
      
      
  
    <h1 class="title"><a href="/blog/picuntu-installation/">ROS on ARM--Picuntu 安装配置</a></h1>
  

    </header>
    <div class="entry">
      
        <p>上篇提到一个叫做Picuntu的项目，目的是为RK3066芯片的设备移植传统Linux，目前基本的使用已经没有什么问题，UG802/MK808（不含MK808B）已经可以使用内置的无线网卡，而其它型号，比如MK802 IIIS或者UG007，由于使用的是MTK的芯片，没有办法找到驱动（话说国内厂商有几个遵守了GPL协议的）所以只能外接USB网卡。另外是VPU和Mali 400，<a href="http://www.slatedroid.com/topic/41654-pre-alpha-03-ubuntu-linux-for-mk802-iii-ug802-mk808-ug007-imito-mx1/page__st__380">slatedroid</a>论坛里有人正在折腾。

</p>
<p>MK80X开机后一般有两种模式，正常模式和恢复(recovery)模式。所以我们如果需要Android/Linux双启动，就只需要在recovery里刷入linux的kernel，Android可以正常运行互不影响。当然你也可以直接刷入原来的kernel空间覆盖掉Android，但是这种方式并不推荐。官方的recovery似乎功能不多，只有作为u盘的功能。Bob&#39;s Finless ROM是一个修改的ROM，包含了替换recovery等img文件的工具。如果你的设备是MK808/MK808B或者UG802，就可以试试对应的Finless ROM，暂时没有针对其它型号的版本（公元2013年1月28日）。如果其它型号刷入，由于硬件不是都相同，可能会有一些问题。

</p>
<p>需要的工具有：

</p>
<ul>
<li>显示器<br>有HDMI接口直接插上就可以了，如果是VGA或者DVI接口的可以使用转接线，淘宝上有HDMI转VGA带3.5mm音频输出的转接线</li>
<li>RKAndroidTool v1.35<br>在<a href="http://www.armtvtech.com/armtvtechforum/viewtopic.php?f=12&amp;t=775">Bob&#39;s Finless ROM</a>的包里</li>
<li>一个大于4G的TF卡或U盘或移动硬盘</li>
<li>Linux和Windows<br>Windows用于刷入recovery，Linux用于格式化上面所说的TF卡或U盘，写入rootfs。这个要求似乎有点苛刻，但是你可以寻找Windows下用于Ext4文件系统格式化的工具，或者寻找Linux的刷入recovery的工具，但这可能更加麻烦。</li>
<li>USB网卡<br>如果你的设备不是UG802/MK808</li>
<li><a href="http://rk3066-linux.googlecode.com/files/ug802recovkernel.img">Kernel镜像</a></li>
<li><a href="http://download.g8.net/picuntu/picuntu-linuxroot-0.9-RC2.2.tgz">Root file system(Picuntu-linuxroot-0.9-RC2.2.tgz)</a><br>你也可以使用一个<a href="http://download.g8.net/picuntu/pre-picuntu-0.9-RC2.2.tgz">安装脚本</a>来更方便地完成安装过程，但这里介绍最直接（或者麻烦？）的方式</li>
</ul>
<p>都准备好了的话，开刷吧！

</p>

      
    </div>
    <footer>
      
        
          <div class="alignleft readmore">
            <a href="/blog/picuntu-installation/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2013-01-24T09:27:26.000Z">Jan 24 2013</time>
      
      
  
    <h1 class="title"><a href="/blog/linux-for-rk3066-mini-pc-introduction/">ROS on ARM--Linux For RK3066 Mini PC简介</a></h1>
  

    </header>
    <div class="entry">
      
        <p><a href="http://www.cnbeta.com/articles/188613.htm">去年6月左右</a>国内厂商（瑞科美 Rikomagic）推出了一款叫做MK802的Mini PC。采用Allwinner A10/ 1GHz Cortex-A8做处理器，运行Android 4.0系统，内存512MB或1G。实际上相当于一个没有触摸屏和电池的平板，不过可以用USB OTG连接鼠标键盘，通过HDMI接口输出音视频。

</p>
<p>“少即是多”，正因为它小，靠外部供电而非电池，有很多扩展的可能性，上市以后很火。到现在淘宝一搜MK802，会出现各种各样厂商（比如酷优乐，联力胜）的也叫做MK802或者UG802,MK803,MK808,MK809的之类的产品。可以给它刷上Linux，然后把它当成一个普通PC使用（因为驱动的原因，用自带的Android可能是更好的选择）。或者，不接显示器，做一个Headless Server？接移动硬盘做一个BT下载机？又或者，加上Arduino，连接上各种传感器，作为机器人的主控制器？总之可以做到很多平板做不到的事情。这里有一个简易对照表：<a href="http://bluefox.com.tw/2012/11/22/%E5%AE%89%E5%8D%93-android-mini-pc-%E7%B0%A1%E6%98%93%E5%B0%8D%E7%85%A7%E8%A1%A8/#more-2654">http://bluefox.com.tw/2012/11/22/%E5%AE%89%E5%8D%93-android-mini-pc-%E7%B0%A1%E6%98%93%E5%B0%8D%E7%85%A7%E8%A1%A8/#more-2654</a>

</p>
<p>MK802的第一代产品是使用全志A10芯片的，在半年后看来这个芯片性能不够强了，运行桌面Ubuntu不是很流畅，但是它的Android ROM和Linux的支持已经比较完善了。后面有一个MK802 II是它的升级版，改动不大，系统基本也可以通用。

</p>
<p>接下来出现了一个UG802,它不是由原来MK802的厂商瑞科美生产的，而是一个叫做酷优乐的公司。在搜索引擎上搜索“酷优乐”这个词都搜不到这个公司的网站。我是问淘宝客服才知道这个公司的网站的（kuyoule.cn），它是第一个使用RK3066芯片（1.66GHz,双核A9）的Mini PC。然后又出现了一个MK808（不知道是哪个产商的）ROM提升到8G，后来的MK808B增加了蓝牙，改进了WiFi天线（原来的好像WiFi信号不太好）。然后瑞科美才推出MK802 III，同样是使用RK3066芯片，不过个人感觉可能质量和ROM支持好一些。然后就是去年12月份推出的MK802 IIIS了，我买的就是这个。

</p>
<p><img src="http://11zpic-11zpic.stor.sinaapp.com/original/7f826aef8756ce136c0262bd5a49a17f.jpg" alt="">

</p>
<p><img src="http://11zpic-11zpic.stor.sinaapp.com/original/eccbaf8ff5d4a416e546a1f2e18401b7.jpg" alt="">

</p>

      
    </div>
    <footer>
      
        
          <div class="alignleft readmore">
            <a href="/blog/linux-for-rk3066-mini-pc-introduction/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-12-15T03:27:35.000Z">Dec 15 2012</time>
      
      
  
    <h1 class="title"><a href="/blog/WTFRobot-Rosmin/">WTFRobot Rosmin</a></h1>
  

    </header>
    <div class="entry">
      
        <embed src="http://player.youku.com/player.php/sid/XNDg2OTMzNDEy/v.swf" allowFullScreen="true" quality="high" width="480" height="400" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash"></embed>

<p>2012年8月，W、T、F三人陆续回到学校。

</p>
<p>因为共同的机器人之梦，这个团队在今年5月份组建。

</p>
<p>首先W同学有了一个想法，觉得可以把ARM11放在小车上，做一些图像处理的工作，然后再连上Arduino控制器控制小车运动，另外用一台Android手机来操控。

</p>
<p>开始考虑用纯Linux加上Qt作为图形界面，用上OpenCV来做。事实上W同学之前因为做过类似的东西对这个已经比较熟悉了。只是由于摄像头驱动以及USB接口只支持1.1的原因，采集摄像头图像的速度非常慢，慢到无法忍受。

</p>
<p> 但是经过多次尝试，发现一款USB摄像头在ARM板厂商的测试程序当中速度很快，效果很理想，问题是厂商并没有开源这个摄像头测试程序的代码，如果要自己做驱动的话就不是一时半会能搞定的了。于是W同学又尝试了把板子刷上Android操作系统，由于有API可以调用，尽管这个程序闭源仍然可以使用。

</p>
<p>于是W同学又从C/C++版本的OpenCV转到Android版本的OpenCV，在Android测试了一下自带的示例程序，发现会花屏。尝试了很多方法都未能解决。后来ARM板的损坏也导致不得不思考新的方案。

</p>
<p>于是就到了8月份。

</p>
<p>F同学由于要做Android客户端程序学习了Android编程。于是想到直接用Android手机代替ARM11开发板，这样会省去很多麻烦。而在这时，Android手机之间的单向socket通信已经基本完成，在解决了一些小问题以后工作很稳定，速度也很快。

</p>
<p>很快，由于F同学曾经有做小车的经验，以及Arduino编程的经验，由Arduino控制的小车耗不费力地就跑了起来。
接下来遇到的第一个难题是Arduino与Android的通信。开始买Arduino的时候没有考虑这个问题，但现在需要与Android手机通信，主要有两个办法，蓝牙和USB，我们觉得蓝牙这个东西开关比较麻烦，也可能不够稳定，于是决定直接用USB Accessory，该特性由Android 2.3.4（平板是3.1）以上支持。开始看到很多论坛的帖子说华为中兴的手机不支持，真心捏了一把汗，还好后来证明三个人的手机都是可用的。

</p>
<p>要解决这个问题，F同学查找了很多资料，最终终于完成了Android手机（客户端）传递信息到另一台Android手机（服务器），再由这台服务器传递信息到Arduino控制小车运动。反应很灵敏，效果很不错，非常好的一个玩具遥控车。

</p>
<p>这个时候，bug只是偶尔出现，解决了以后基本就很完美了，工作都非常稳定。

</p>
<p>可是一切才刚刚开始。

</p>
<p>9月份，W研究了众多可用于Android平台上的计算机视觉库，包括OpenCV，SimpleCV，JavaCV以后，最终发现还是OpenCV比较适合，但是由于JNI接口使用觉得过于复杂，没有深入研究下去。于是利用Android上的OpenCV实现了追踪有明显颜色特征的物体（ColorBlob Track）并且绘制出其中心坐标。

</p>
<p>在T同学完成数模一段时间之后，小车的Arduino部分主要转给他负责。买好了舵机，却发现转起来吱吱地响。让舵机云台根据前面所说的图像处理得到的点的位置跟踪目标，经过一个下午调整终于调好了，可舵机已经坏得差不多了，声音很吓人。后来拆开发现里面的齿轮是塑料的！顿时觉得被坑了，180多买来的二自由度舵机云台居然如此劣质！淘宝立刻给差评！后来买了两个20多块的MG995,质量都很好一直用到现在。

</p>
<p>当然这还远远不是结束。接下来我们陆续实现了：

</p>
<ol>
<li><p>TTS</p>
</li>
<li><p>小范围英文离线语音识别</p>
</li>
<li><p>Socket双向通信</p>
</li>
<li><p>各种代码的分离和整合</p>
</li>
</ol>
<p>F同学开始研究利用Android服务器上的陀螺仪计算角度和客户端的地图绘制。

</p>
<p>借了一个平板过来。。。

</p>
<p><img src="http://11zpic-11zpic.stor.sinaapp.com/original/ed79edf141de1d98a5f212396be5c3a8.jpg" alt="">

</p>

      
    </div>
    <footer>
      
        
          <div class="alignleft readmore">
            <a href="/blog/WTFRobot-Rosmin/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-07-28T03:04:00.000Z">Jul 28 2012</time>
      
      
  
    <h1 class="title"><a href="/blog/ubuntu12-dot-04mei-hua-pei-zhi-bi-ji/">Ubuntu12.04美化配置笔记</a></h1>
  

    </header>
    <div class="entry">
      
        <p>好久没有玩美化了，前几天装了一下LinuxDeepin12.06，感觉美化做得很好，但是系统有一些问题，比如挂起或长时间锁屏后gnome-settings-daemon开不了，导致快捷键失效，主题风格变成非常好看的win95 style...搜了好多个帖子（前几年ubuntu也出过类似问题）都没解决。最后无奈换回标准Ubuntu，但是看到LinuxDeepin，搞美化的瘾又上来了。

</p>
<p>LinuxDeepin的主题用的是从Zukitwo主题修改而来的仿Mac主题。//为啥我这么清楚？因为它的css文件里的作者没改，上一个版本的Deepin-GTK主题甚至连主题名称也没改还叫Zukitwo。

</p>
<p>在美化方面我完全是Mac控，就连现在的Windows也是任务栏在上，下面RocketDock，主题用nick-zone.com的仿lion主题。Ubuntu的默认主题完全不符合我的审美，于是从LinuxDeepin的iso文件里提取出了主题的文件来用。发现了个小问题，就是打开黑色风格的窗口（如图片查看器）时窗口的上边缘有一条白线，看着灰常不爽（Zukitwo主题没有），去翻它的css，和Zukitwo的css文件diff一下，发现改动很少，于是从Zukitwo的主题开始调整，把几个按钮复制过去，发现按钮偏上了，然后按照Deepin的css改。Zukitwo的主题标题栏文字不居中，照Deepin的改就居中了。

</p>
<p>后来又发现一个Mac-OS-Lion-Theme-V2,做得灰常给力，于是就放弃了自己改的主题用这个了，可是还有一些按钮颜色不是很满意。配合Zukitwo-Cupertino的Gnome-Shell主题非常好。对Zukitwo-Cupertino我也做了点修改，把panel改成了0.8到0.5的透明，左上角那个gnome大脚向右移了一点。至于图标主题，果断用最有名的Faenza。

</p>
<p>后来又发现一个图标主题叫做Faenza-Cupertino。//为什么都叫Cupertino，我查了一下才知道，那是水果总部。。。

</p>
<p>这个主题是从Faenza的基础上改的，文件夹改成了蓝色更像Mac，其它都没变。//好像必须先装Faenza，因为它包里只有文件夹的图标

</p>
<p>于是现在就是Zukitwo-Cupertino+Faenza-Cupertino+Mac-OS-Lion-Theme-V2,忽然想到，会不会也有叫Cupertino的GTK主题？在gnome-look.org上搜，果然有！叫Adwaita-Cupertino,效果比Mac-OS-Lion-Theme-V2还好！

</p>
<p>不过标题栏的宽度实在太窄，关闭最小化最大化按钮之间的间隔也太小，于是我又改了改。

</p>
<p>嗯，现在完全是Cupertino系列了。。。Zukitwo-Cupertino+Faenza-Cupertino+Adwaita-Cupertino,我把GTK主题，窗口主题和gnome-shell主题放在一起，起名叫Cupertino-sun11-modified。图标包要装在另外位置就不放了。

</p>
<p>另外换上Moutain Lion的银河壁纸，换上苹果丽黑字体（后来还是换成了微软雅黑），Cairo-dock用Mac的主题，用PlymouthManager调了一下启动画面（还是比较喜欢那个Ubuntu Sunrise）。

</p>
<p>Faenza的ppa：<a href="https://launchpad.net/~tiheum/+archive/equinox/">https://launchpad.net/~tiheum/+archive/equinox/</a>

</p>
<p>Faenza-Cupertino: <a href="http://gnome-look.org/content/show.php/Faenza-Cupertino?content=129008/">http://gnome-look.org/content/show.php/Faenza-Cupertino?content=129008/</a>

</p>
<p>Cupertino-sun11-modified: <a href="http://dl.dropbox.com/u/18802606/Cupertino-sun11-modified.tar.gz/">http://dl.dropbox.com/u/18802606/Cupertino-sun11-modified.tar.gz/</a>

</p>
<p>Moutain Lion的Galaxy壁纸： <a href="http://11zpic-11zpic.stor.sinaapp.com/original/499c3ca4a3fc8c4130ee9e2fa602e76e.jpg/">http://11zpic-11zpic.stor.sinaapp.com/original/499c3ca4a3fc8c4130ee9e2fa602e76e.jpg/</a>

</p>
<p>网上流传两个版本的丽黑字体：

</p>
<p><a href="http://dl.dbank.com/c0037ab60k/">http://dl.dbank.com/c0037ab60k/</a>

</p>
<p><a href="http://www.iplaysoft.com/hiragino-sans.html/">http://www.iplaysoft.com/hiragino-sans.html/</a>


</p>
<p>上图：

</p>
<p><img src="http://11zpic-11zpic.stor.sinaapp.com/original/ecf7841f17300803c3f310ab500b3b51.png" />

</p>
<p><img src="http://11zpic-11zpic.stor.sinaapp.com/original/0641fc7933141de0fbd12004bf2c44d1.png" />

</p>
<p><img src="http://11zpic-11zpic.stor.sinaapp.com/original/f88f508953919c81045c2bf50dc8af5e.png" /></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-07-25T09:16:00.000Z">Jul 25 2012</time>
      
      
  
    <h1 class="title"><a href="/blog/tiny6410de-opencv2-dot-4-2yi-zhi-bi-ji/">Tiny6410的OpenCV2.4.2移植笔记</a></h1>
  

    </header>
    <div class="entry">
      
        <p>关于OpenCV在ARM上的移植最经典的应该就是这篇：
<a href="http://blog.csdn.net/noodies/article/details/5798434">编译OpenCV for arm-linux</a>

</p>
<p>去年在什么都不懂的情况下移植的时候也主要是靠这篇文章，写得很详细，如果你觉得还不够详细的话，推荐个带图的:
<a href="http://blog.csdn.net/yr119111/article/details/7732336">opencv2.3.1在arm端的移植</a>

</p>
<p>这篇写得也不错:
<a href="http://www.cnblogs.com/s_agapo/archive/2011/11/24/2262346.html">Linux下移植OpenCV+Qt到ARM(Tiny6410)总结</a>

</p>
<p>我的环境是Ubuntu12.04,板子是友善之臂的tiny6410。

</p>
<p>首先当然是装好arm-linux-gcc,配置环境变量，输入arm-linux-gcc -v有输出，这步就完成了。
然后是cmake,比较方便的是用带界面的cmake-gui,要注意的地方是<strong>CMAKE_INSTALL_PREFIX</strong>和<strong>WITH_TIFF</strong>还有<strong>CMAKE_EXE_LINKER_FLAGS</strong>。

</p>
<p>第一个参数需要注意是因为我们编译的库是适用于ARM的，不应该直接放在/usr/local里，否则如果装了x86的OpenCV会有冲突，比如改成/usr/local/opencv-arm。第二个参数一般情况下需要去掉勾，因为似乎默认情况下ubuntu是没有这个支持的，要选上得自己装些什么东西。第三个参数是因为OpenCV需要这两个库的支持？我现在也还不太明白，总之加上-lrt和-lpthread就不会报错了。其它参数保持原状基本都不会报错。

</p>
<p>cmake好后下一步是make,对于双核的机器加上-j4参数速度会快很多，但是也发烫，在系统监视器里看到四个线程的CPU都是接近100%,风扇一直呼呼地响。

</p>
<p>然后是配置编译环境了，好像在2.3以后OpenCV的x86版安装好后都会有pkgconfig的.pc文件。//2.3以前的版本不清楚

</p>
<p>所以比较方便的就是用pkgconfig来配置了，它的.pc文件是在/usr/local/lib/pkgconfig下面。这是适用于PC版本的OpenCV的（因为之前已经安装好了x86的OpenCV）。但是只要把那第一行的prefix路径改成ARM版OpenCV的安装路径（也就是上面CMAKE_INSTALL_PREFIX参数的值）就可以直接用了。<a href="http://blog.csdn.net/yr119111/article/details/7732336">opencv2.3.1在arm端的移植</a>这篇帖子说再Libs里要加上-lrt -lpthread参数，我的环境下似乎不需要，但是加上也没什么问题。

</p>
<p>这样配置好后，arm-linux-gcc编译的时候加上参数`pkg-config --cflags --libs opencv-arm`就行了,比如arm-linux-gcc `pkg-config --cflags --libs opencv-arm` test.c -o test。//在这个情况下.pc文件名是opencv-arm，注意是两个反引号。
我用的主要是Qt，所以在.pro文件里加上：

</p>
<pre><code><div class="line">    <span class="title">unix</span> {</div><div class="line">        <span class="title">CONFIG</span> += link_pkgconfig</div><div class="line">        PKGCONFIG += /usr/local/lib/pkgconfig/opencv-arm.pc</div><div class="line">    }</div></code></pre>
<p>但是编译成功后可能会显示一些警告，比如：

</p>
<pre><code><div class="line">    <span class="string">.</span><span class="string">.</span><span class="comment">/</span>.<span class="string">.</span><span class="comment">/lib/libopencv_core</span>.<span class="comment">so</span>, <span class="comment">needed</span> <span class="comment">by</span> <span class="comment">/usr/local/opencv</span>-<span class="comment">arm/lib/libopencv_highgui</span>.<span class="comment">so</span>, <span class="comment">not</span> <span class="comment">found</span> <span class="comment">(try</span> <span class="comment">using</span> <span class="literal">-</span><span class="comment">rpath</span> <span class="comment">or</span> <span class="literal">-</span><span class="comment">rpath</span>-<span class="comment">link)</div></code></pre>

      
    </div>
    <footer>
      
        
          <div class="alignleft readmore">
            <a href="/blog/tiny6410de-opencv2-dot-4-2yi-zhi-bi-ji/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




<nav id="pagination">
  
  
    <a href="/page/2/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
<div class="search">
  <form action="http://google.com/search" method="get" accept-charset="utf-8">
    <input type="text" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:sun11.me">
  </form>
</div>




<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <a href="/tags/ARM/"><li>ARM<small>4</small></li></a>
  
    <a href="/tags/Android/"><li>Android<small>4</small></li></a>
  
    <a href="/tags/Customize/"><li>Customize<small>1</small></li></a>
  
    <a href="/tags/Embedded-Linux/"><li>Embedded Linux<small>4</small></li></a>
  
    <a href="/tags/Face-Recognition/"><li>Face Recognition<small>1</small></li></a>
  
    <a href="/tags/Linux/"><li>Linux<small>4</small></li></a>
  
    <a href="/tags/OCR/"><li>OCR<small>1</small></li></a>
  
    <a href="/tags/OpenCV/"><li>OpenCV<small>3</small></li></a>
  
    <a href="/tags/OpenWrt/"><li>OpenWrt<small>1</small></li></a>
  
    <a href="/tags/Qt/"><li>Qt<small>1</small></li></a>
  
    <a href="/tags/ROS/"><li>ROS<small>1</small></li></a>
  
    <a href="/tags/Robot/"><li>Robot<small>4</small></li></a>
  
    <a href="/tags/Ubuntu/"><li>Ubuntu<small>4</small></li></a>
  
    <a href="/tags/Web/"><li>Web<small>1</small></li></a>
  
  </ul>
</div>



</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2013 E. Sununs
  
  <br />
  Powered by <a href="http://zespia.tw/hexo/">Hexo</a>
</div>
<div class="alignright license">
<img alt="知识共享许可协议" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /> 本站作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh">知识共享署名-非商业性使用-相同方式共享 3.0 未本地化版本许可协议</a>进行许可。
</div>
<div class="clearfix"></div>
</footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = '11zhexo';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>